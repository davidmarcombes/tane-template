{#
  Plain-text Nunjucks layout for generating an LLM-ready text file at /llm.txt
  Uses site metadata from src/_data/site.json and the navigation data in
  src/_data/navigation.json. Intended to be used by a content file with
  frontmatter: layout: llm and permalink: /llm.txt
#}
Site: {{ site.title }}
Description: {{ site.description }}
URL: {{ site.url }}
Author: {{ site.author }} <{{ site.email }}>

Social:
- Twitter: {{ site.social.twitter }}
- LinkedIn: {{ site.social.linkedin }}
- Facebook: {{ site.social.facebook }}

Navigation:
{%- if navigation and (navigation[lang] is defined) -%}
{%- set nav = navigation[lang] -%}
{%- else -%}
{%- set nav = navigation.en -%}
{%- endif -%}
{%- for item in nav -%}
- {{ item.text }} -> {{ item.url }}
{%- endfor -%}

Pages:
{%- for p in collections.all -%}
  {%- if p.url and p.url != "/llm.txt" -%}
- {{ p.data.title or p.fileSlug }} -> {{ p.url }}
  {%- endif -%}
{%- endfor -%}

Posts:
{%- if collections.posts -%}
{%- for post in collections.posts -%}
- {{ post.data.title or post.fileSlug }} ({{ post.date }}) -> {{ post.url }}
{%- endfor -%}
{%- else -%}
(no posts collection found)
{%- endif -%}

Instructions:
This file is auto-generated by Eleventy using the `llm` layout. It includes
site metadata and a list of pages and navigation items to give an LLM a
concise summary of the website.

Custom content:
{# Include page body rendered from the `llm.md` file. Use `striptags` to
  ensure the output is plain text suitable for LLM inputs. #}
{%- if content -%}
{{ content | striptags }}
{%- endif -%}
